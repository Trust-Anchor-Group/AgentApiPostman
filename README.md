# Neuron Agent API Postman Collection
Postman can be downloaded here https://www.postman.com/. It can be used both in the browser and as a desktop app, but i recommend using the desktop app.

## Import
Open Postman and press the import button at the top of the workspace area, drag and drop both the collection and environment files.

## Configure
**Note:** Environment variables can also be quickly accessed via the quick look button at the top right, the icon is a document with an eye.

On the environments page, set the Agent API environment as active by pressing the checkmark button when hovering over the environment. 
### Host and API key
The host variable needs to be set to the domain configured for the neuron.
If you are going to create accounts via the Postman collection you need to set the "apiKey" and "secret" variables to the values given when generating an API key in the neuron.

### Account
The "accountUsername" and "accountPassword" variables will be automatically filled when creating an account with the "Create Account" request under "Accounts" in the collection, but they can also be configured with an already existing account.

### Crypto
"localName" and "namespace" need to be configured before creating or using a cryptographic key, the available algorithms and their respective localName and namespace can be retrieved using the "Get Algorithms" request under "Crypto".

When creating a new key using the "Create Key" request, the key id is set in the request body but the key secret is set at the top of the Pre-request script. Both will be saved in the variables when the request is sent. The variables can also be configured manually if a key already exists.

### Legal
The "legalId" variable will be automatically set when applying for a new id, but can also be configured with an existing id. The automatic saving of the id can be removed in the "Tests" tab of the request.
### Contracts & Tokens
The "contractId" variable can be set to interact with an existing contract or will be automatically set when creating a new contract.

The "tokenId" variable needs to be set in order to use the requests in the "Tokens" folder

### Auto-generated
Variables with an initial value that starts with "Generated by/at" should not be configured manually, they are used to store data by the pre-request scripts. Manually written values will most likely be overwritten when sending requests.

## Available endpoints in the collection

|Endpoint|Available in collection|
|---|---|
|**Accounts**||
|DomainInfo|:white_check_mark:|
|Create|:white_check_mark:|
|CreateWebForm|:x:|
|GetSessionToken|:white_check_mark:|
|VerifyEMail|:white_check_mark:|
|Login|:white_check_mark:|
|WwwLogin|:x:|
|Refresh|:white_check_mark:|
|Logout|:white_check_mark:|
|Recover|:x:|
|**Xmpp**||
|SendTextMessage|:x:|
|SendFormattedMessage|:x:|
|SendXmlMessage|:x:|
|SendPrecenseSubscription|:x:|
|SendPrecenseUnsubscription|:x:|
|SendSubscriptionAccepted|:x:|
|SendSubscriptionDeclined|:x:|
|GetRoster|:x:|
|GetRosterItem|:x:|
|SetRosterItem|:x:|
|RemoveRosterItem|:x:|
|PresenceProbe|:x:|
|InformationQuery|:x:|
|PopMessages|:x:|
|**Storage**||
|SavePrivateXml|:white_check_mark:|
|LoadPrivateXml|:white_check_mark:|
|Content|:x:|
|**Crypto**||
|GetAlgorithms|:white_check_mark:|
|CreateKey|:white_check_mark:|
|GetPublicKey|:white_check_mark:|
|**Legal**||
|ValidatePnr|:white_check_mark:|
|GetApplicationAttributes|:white_check_mark:|
|ApplyId|:white_check_mark:|
|AddIdAttachment|:x:|
|ReadyForApproval|:white_check_mark:|
|GetServiceProvidersForIdReview|:white_check_mark:|
|SelectReviewService|:white_check_mark:|
|AuthorizeAccessToId|:white_check_mark:|
|PetitionPeerReview|:x:|
|PetitionId|:x:|
|PetitionSignature|:x:|
|CreateContract|:white_check_mark:|
|GetContract|:white_check_mark:|
|SignContract|:white_check_mark:|
|SignData|:x:|
|GetIdentities|:white_check_mark:|
|GetCreatedContracts|:white_check_mark:|
|AuthorizeAccessToContract|:white_check_mark:|
|**Wallet**||
|GetBalance|:white_check_mark:|
|ProcessEDalerUri|:white_check_mark:|
|GetServiceProvidersForBuyingEDaler|:x:|
|GetServiceProvidersForSellingEDaler|:x:|
|InitiateBuyEDaler|:x:|
|InitiateSellEDaler|:x:|
|GetTransactionInformation|:x:|
|**Tokens**||
|GetToken|:white_check_mark:|
|GetContractTokens|:white_check_mark:|
|GetCreationAttributes|:white_check_mark:|
|GetToken|:white_check_mark:|
|GetDescription|:white_check_mark:|
|AddTextNote|:white_check_mark:|
|AddXmlNote|:white_check_mark:|
|GetTokenEvents|:white_check_mark:|
|**StateMachines**||
|GetCurrentState|:x:|
|CreateReport|:x:|
